/*! jQuery Before After - v0.6.5 - 2012-08-17
* https://github.com/dfadler/jquery.beforeafter
* Copyright (c) 2012 Dustin Fadler; Licensed MIT, GPL */
(function(a,b,c){function g(b){this.ele=document,this.config=a.extend({},f,b);if(this.config.legacy===!0&&!e)return!1;this.init()}var d="beforeAfter",e=Modernizr?!Modernizr.generatedcontent:document.all&&!document.querySelector,f={contentPattern:new RegExp(/content: '.'/),elements:[],extensionPattern:new RegExp(/.css$/),legacy:!0,pseudoPattern:e||a.browser.mozilla?new RegExp(/:before|:after/):new RegExp(/::before|::after/),stylesheets:document.styleSheets,stylesheetsLength:document.styleSheets.length,stylesheet:c,applyCss:!1};g.prototype.checkStylesheet=function(a){var b=this.config.stylesheets,d=b.length,a=a===c?this.config.stylesheet:a;if(a===this.config.stylesheet){var e=new RegExp(a);for(var f=0;f<d;f++)if(e.test(b[f].href))return b[f];return b}return b},g.prototype.parseStylesheet=function(a){function j(a){var b,c;b=a.cssRules||a.rules,c=b.length;for(var e=0;e<c;e++)d.test(b[e][i])&&(g.push(b[e].style.content.charAt(1)),f.push(b[e]))}function k(a,b){var c=new RegExp(/::/),e=a[i].match(d),e=c.test(e)?e[0].replace("::",""):e[0].replace(":",""),f=a.selectorText.split(","),g=f.length,h,b;for(var j=0;j<g;j++)d.test(f[j])&&(h=f[j].replace(d,""));elements.push({selector:h,pseudoClass:e,content:b})}var b=this.config.stylesheets,c=b.length,a=a||this.config.stylesheet,d=this.config.pseudoPattern,f=[],g=[],h,i=e?"selectorText":"cssText";elements=[];if(a===this.config.stylesheet)j(a);else for(var l=0;l<c;l++)j(b[l]);h=f.length;for(var l=0;l<h;l++)k(f[l],g[l]);return elements},g.prototype.addContainer=function(a){var b=a.length,d=this.addContainer;if(a.length===1||a.length===c)d.add(a);else for(var e=0;e<b;e++){var f=a[e];d.add(f)}},g.prototype.addContainer.add=function(b){b.pseudoClass==="before"?a(b.selector).prepend('<div class="before">'+b.content+"</div>"):a(b.selector).append('<div class="after">'+b.content+"</div>")},g.prototype.init=function(){var a=this.checkStylesheet(),b=this.parseStylesheet(a);this.addContainer(b)},a.fn[d]=function(c){return this.each(function(){var e=b.document;a.data(e,"plugin_"+d)||a.data(e,"plugin_"+d,new g(c))})}})(jQuery,window);